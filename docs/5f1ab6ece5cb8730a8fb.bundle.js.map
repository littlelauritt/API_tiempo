{"version":3,"sources":["webpack://api-tiempo/./src/js/http-provider.js","webpack://api-tiempo/./src/js/render-html.js","webpack://api-tiempo/./src/index.js"],"names":["main","document","querySelector","resultadosBusqueda","getElementById","kelvin","input","addEventListener","async","evento","preventDefault","datosInput","parametro","resp","fetch","ok","console","log","json","error","conexionCORD","value","datosUnion","lat","lon","conexionAPI","results","geometry","lng","tiempo","classList","remove","innerHTML","name","parseFloat","temp","toFixed","temp_max","temp_min"],"mappings":"mBACA,MCAMA,EAAOC,SAASC,cAAc,QAC9BC,EAAqBF,SAASG,eAAe,sBAC7CC,EAAS,OCKT,EAAOJ,SAASC,cAAc,QAC9BI,EAAQL,SAASG,eAAe,SAItC,EAAKG,iBAAiB,UAAUC,MAAOC,IACnCA,EAAOC,iBACP,MAAMC,OFGkBH,OAAMI,IAC9B,IACI,MAAMC,QAAaC,MAAM,mDAAaF,0CAKrC,OAJIC,EAAKE,IACNC,QAAQC,IAAI,2CAEKJ,EAAKK,OAE5B,MAAOC,GACL,MAAM,IEZeC,CAAad,EAAMe,OACtCC,OFgBiBd,OAAMe,EAAKC,KAClC,IACG,MAAMX,QAAaC,MAAO,uDAAcS,SAAWC,4CAKlD,OAJIX,EAAKE,IACNC,QAAQC,IAAI,2CAEKJ,EAAKK,OAE3B,MAAOC,GACL,MAAM,IEzBeM,CAAYd,EAAWe,QAAQ,GAAGC,SAASJ,IAAKZ,EAAWe,QAAQ,GAAGC,SAASC,KDX9E,IAACC,ICYZP,EDXftB,EAAK8B,UAAUC,OAAO,WACtB5B,EAAmB6B,UAAY,iGACyCH,EAAOI,iEACrCC,WAAWL,EAAO7B,KAAKmC,KAAK9B,EAAO,IAAI+B,QAAQ,mHACVF,WAAWL,EAAO7B,KAAKqC,SAAShC,EAAO,IAAI+B,QAAQ,mHACnDF,WAAWL,EAAO7B,KAAKsC,SAASjC,EAAO,IAAI+B,QAAQ,gF","file":"5f1ab6ece5cb8730a8fb.bundle.js","sourcesContent":["// DATOS CONEXION A LA API DE LAS COORDENADAS\r\nconst cord_Key = '9c80f8ce208045de9c01a957e8d27684';\r\nconst CORD = 'https://api.opencagedata.com/geocode/v1/json?';\r\n//https://api.opencagedata.com/geocode/v1/json?q=PLACENAME&key=9c80f8ce208045de9c01a957e8d27684\r\n\r\n//  \"geometry\": {\r\n//     \"lat\": 40.4167047,\r\n//     \"lng\": -3.7035825\r\n// }\r\n\r\n// DATOS CONEXION A LA API DEL TIEMPO\r\nconst API_key = 'eceecbbe6d24b128293282dde0e99ee6';\r\nconst API = 'https://api.openweathermap.org/data/2.5/weather';\r\n\r\n//https://openweathermap.org/api\r\n//api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={API key}\r\n\r\n// CONEXION A LA API COORDENADAS\r\nexport const conexionCORD = async(parametro) => {\r\n    try{\r\n        const resp = await fetch(`${CORD}&q=${parametro}&key=${cord_Key}`);\r\n        if( !resp.ok ){\r\n            console.log('Ha habido un fallo en la conexion');\r\n        }\r\n         const datos = await resp.json();\r\n         return datos;\r\n    } catch (error) {\r\n        throw (error)\r\n    }\r\n}\r\n\r\n// CONEXION A LA API TIEMPO\r\nexport const conexionAPI = async(lat, lon) => {\r\n    try{\r\n       const resp = await fetch (`${API}?lat=${lat}&lon=${lon}&appid=${API_key}`);\r\n       if( !resp.ok ){\r\n           console.log('Ha habido un fallo en la conexion');\r\n       }\r\n        const datos = await resp.json();\r\n        return datos;\r\n    } catch (error) {\r\n        throw (error)\r\n    } \r\n}\r\n\r\n\r\n","// SELECCIONAMOS LOS ELEMENTOS DEL HTML\r\nconst main = document.querySelector('main');\r\nconst resultadosBusqueda = document.getElementById('resultado-busqueda');\r\nconst kelvin = 273.15;\r\n\r\nexport const renderizarHTML = (tiempo) => {\r\n    main.classList.remove('inicial');\r\n    resultadosBusqueda.innerHTML = `<div class=\"item\">\r\n                                        <h3 class=\"estiloh4\">El tiempo en ${tiempo.name} es de:</h3>\r\n                                        <h2>${parseFloat(tiempo.main.temp-kelvin,10).toFixed(2)}<span> &#x2103;</span></h2>\r\n                                        <h4 class=\"estiloh4\">Temperatura máxima: ${parseFloat(tiempo.main.temp_max-kelvin,10).toFixed(2)}<span> &#x2103;</span></h4>\r\n                                        <h4 class=\"estiloh4\">Temperatura mínima: ${parseFloat(tiempo.main.temp_min-kelvin,10).toFixed(2)}<span> &#x2103;</span></h4>\r\n                                    </div>`\r\n};\r\n","// IMPORTAMOS EL CSS\r\nimport './css/style.css';\r\n\r\n// IMPORTAMOS LAS FUNCIONES\r\nimport { conexionCORD, conexionAPI } from \"./js/http-provider\";\r\nimport { renderizarHTML } from './js/render-html';\r\n\r\n//ELEMENTOS DEL DOM\r\nconst form = document.querySelector('form');\r\nconst input = document.getElementById('input');\r\n\r\n\r\n// EVENTOS\r\nform.addEventListener('submit', async (evento) => {\r\n    evento.preventDefault();\r\n    const datosInput = await conexionCORD(input.value);\r\n    const datosUnion = await conexionAPI(datosInput.results[0].geometry.lat, datosInput.results[0].geometry.lng);\r\n    renderizarHTML(datosUnion);\r\n});\r\n"],"sourceRoot":""}